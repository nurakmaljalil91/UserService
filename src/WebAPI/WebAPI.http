@https = https://localhost:7058
@http = http://localhost:5120
@WebAPI_HostAddress = https://localhost:7058
@bearerToken = 
@roleId = 

# Health - Liveness
GET {{WebAPI_HostAddress}}/health/live
Accept: application/json

###

# Health - Readiness (includes custom JSON writer)
GET {{WebAPI_HostAddress}}/health/ready
Accept: application/json

###

# OpenAPI document (if NSwag is enabled in Development)
GET {{WebAPI_HostAddress}}/swagger/v1/swagger.json
Accept: application/json

###

# Todos Items - Get all (Admin only)
GET {{WebAPI_HostAddress}}/api/todoItems?page=1&total=10&sortBy=id&descending=true
Accept: application/json
Authorization: Bearer {{bearerToken}}

###

# Create Todos Item
POST {{WebAPI_HostAddress}}/api/todoItems
Content-Type: application/json
Authorization: Bearer {{bearerToken}}
{
  "listId": 1,
  "title": "New Todo Item"
}

###

# Update Todos Item
PATCH {{WebAPI_HostAddress}}/api/todoItems
Content-Type: application/json
Authorization: Bearer {{bearerToken}}
{
  "id": 2,
  "title": "Updated Todo Item"
}

###

# Delete Todos Item
DELETE {{WebAPI_HostAddress}}/api/todoItems/1
Authorization: Bearer {{bearerToken}}

###

GET {{WebAPI_HostAddress}}/api/todolists?page=1&total=10&sortBy=id&descending=false

###

POST {{WebAPI_HostAddress}}/api/todolists
Content-Type: application/json
{
 "title": "Second to do list"
}

###

PATCH {{WebAPI_HostAddress}}/api/todolists
Content-Type: application/json

{
  "id": 2,
  "title": "Updated Todo List"
}

###

@id=2
DELETE {{WebAPI_HostAddress}}/api/TodoLists/{{id}}

###

POST {{WebAPI_HostAddress}}/api/auth/login
Content-Type: application/json

{
  "username": "admin",
  "email": "admin@example.com",
  "password": "Admin123!"
}

###

POST {{WebAPI_HostAddress}}/api/auth/register
Content-Type: application/json

{
  "username": "testuser",
  "email": "testuser@example.com",
  "password": "Test123!"
}

###

POST {{WebAPI_HostAddress}}/api/auth/reset-password
Content-Type: application/json

{
  "email": "user@example.com",
  "resetToken": "reset-token",
  "newPassword": "User123!"
}

###

# Users - List
GET {{WebAPI_HostAddress}}/api/users?page=1&total=10&sortBy=username&descending=false
Accept: application/json
Authorization: Bearer {{bearerToken}}

###

# Users - Get by id
GET {{WebAPI_HostAddress}}/api/users/{{userId}}
Accept: application/json
Authorization: Bearer {{bearerToken}}

###

# Users - Create
POST {{WebAPI_HostAddress}}/api/users
Content-Type: application/json
Authorization: Bearer {{bearerToken}}

{
  "username": "newuser",
  "email": "newuser@example.com",
  "phoneNumber": "+12025550123",
  "password": "NewUser123!"
}

###

# Users - Update
PATCH {{WebAPI_HostAddress}}/api/users/{{userId}}
Content-Type: application/json
Authorization: Bearer {{bearerToken}}

{
  "username": "updateduser",
  "email": "updateduser@example.com",
  "phoneNumber": "+12025550124",
  "isLocked": false
}

###

# Users - Soft delete
DELETE {{WebAPI_HostAddress}}/api/users/{{userId}}
Authorization: Bearer {{bearerToken}}

###

# Roles - Get Admin role id (copy the Admin id into roleId above)
GET {{WebAPI_HostAddress}}/api/roles?page=1&total=20&sortBy=name&descending=false&filter=name eq 'Admin'
Accept: application/json
Authorization: Bearer {{bearerToken}}

###

# Roles - List
GET {{WebAPI_HostAddress}}/api/roles?page=1&total=10&sortBy=name&descending=false
Accept: application/json
Authorization: Bearer {{bearerToken}}

###

# Roles - Get by id
GET {{WebAPI_HostAddress}}/api/roles/{{roleId}}
Accept: application/json
Authorization: Bearer {{bearerToken}}

###

# Roles - Create
POST {{WebAPI_HostAddress}}/api/roles
Content-Type: application/json
Authorization: Bearer {{bearerToken}}

{
  "name": "Support",
  "description": "Support role"
}

###

# Roles - Update
PATCH {{WebAPI_HostAddress}}/api/roles/{{roleId}}
Content-Type: application/json
Authorization: Bearer {{bearerToken}}

{
  "name": "Support Manager",
  "description": "Updated support role"
}

###

# Roles - Delete
DELETE {{WebAPI_HostAddress}}/api/roles/{{roleId}}
Authorization: Bearer {{bearerToken}}

###
